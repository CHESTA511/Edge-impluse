<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VoxSilva - Detection History</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="manifest" href="manifest.json">
        <meta name="theme-color" content="#22c55e">
    </head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-tree"></i>
                <span>VoxSilva</span>
            </div>
            <button class="mobile-menu-toggle" aria-label="Toggle menu">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>Beranda</span>
                </a>
                <a href="monitoring.html" class="nav-link">
                    <i class="fas fa-chart-line"></i>
                    <span>Monitoring</span>
                </a>
                <a href="history.html" class="nav-link active">
                    <i class="fas fa-clock"></i>
                    <span>History</span>
                </a>
                <a href="device.html" class="nav-link">
                    <i class="fas fa-desktop"></i>
                    <span>Device</span>
                </a>
                <a href="maps.html" class="nav-link">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Map</span>
                </a>
                <a href="chatbot.html" class="nav-link">
                    <i class="fas fa-robot"></i>
                    <span>AI Assistant</span>
                </a>
                <a href="account.html" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Account</span>
                </a>
            </div>
        </div>
    </nav>

    <main class="main-content history-page">
        <section class="history-section">
            <h1 class="section-title">Detection History</h1>
            <p class="section-subtitle">Review past events captured by your VoxSilva sensor network.</p>

            <div class="history-filters">
                <div class="filter-group">
                    <label for="date-filter"><i class="fas fa-calendar-alt"></i> Date Range</label>
                    <input type="date" id="date-filter" class="filter-input">
                </div>
                <div class="filter-group">
                    <label for="type-filter"><i class="fas fa-tag"></i> Detection Type</label>
                    <select id="type-filter" class="filter-input">
                        <option value="all">All Types</option>
                        <option value="human">Human</option>
                        <option value="chainsaw">Chainsaw</option>
                        <option value="forest">Forest Sound</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="device-filter"><i class="fas fa-desktop"></i> Device</label>
                    <select id="device-filter" class="filter-input">
                        <option value="all">All Devices</option>
                        <option value="device-1">Device 001</option>
                        <option value="device-2">Device 002</option>
                    </select>
                </div>
                <button class="filter-btn"><i class="fas fa-filter"></i> Apply Filters</button>
            </div>

            <div class="history-grid">
                <!-- Example Card 1: Human & Forest Sound -->
                <div class="history-card">
                    <div class="card-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2322c55e;stop-opacity:0.1'/%3E%3Cstop offset='100%25' style='stop-color:%2316a34a;stop-opacity:0.2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23grad)' width='400' height='300'/%3E%3Ccircle cx='200' cy='120' r='40' fill='%2322c55e' opacity='0.2'/%3E%3Cpath d='M 200 100 L 210 130 L 190 130 Z' fill='%2322c55e' opacity='0.3'/%3E%3Ctext x='50%25' y='60%25' dominant-baseline='middle' text-anchor='middle' fill='%231e293b' font-size='20' font-family='Arial' font-weight='bold'%3EEvent Capture%3C/text%3E%3Ctext x='50%25' y='70%25' dominant-baseline='middle' text-anchor='middle' fill='%2364748b' font-size='14' font-family='Arial'%3E2025-11-17 10:30:15%3C/text%3E%3C/svg%3E" alt="Detection Image">
                    </div>
                    <div class="card-content">
                        <div class="card-header-info">
                            <div class="event-badge high-priority">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>High Priority</span>
                            </div>
                            <div class="event-time">
                                <i class="fas fa-clock"></i>
                                <span>2025-11-17 10:30:15</span>
                            </div>
                        </div>
                        
                        <div class="card-detections">
                            <div class="detection-item visual-detection">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-eye detection-icon visual"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Visual Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value human">Human Detected</span>
                                        <span class="detection-badge alert">Alert</span>
                                    </div>
                                    <span class="detection-desc">Human presence detected by ESP32 Cam</span>
                                </div>
                            </div>
                            <div class="detection-item audio-detection">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-volume-up detection-icon audio"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Audio Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value">Forest Sound</span>
                                        <span class="detection-badge normal">Normal</span>
                                    </div>
                                    <span class="detection-desc">Natural forest ambient sound detected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <div class="device-info">
                                <i class="fas fa-desktop"></i>
                                <div>
                                    <span class="device-label">Device</span>
                                    <span class="device-name">Device 001</span>
                                </div>
                            </div>
                            <div class="location-info">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <span class="location-label">Location</span>
                                    <span class="location-name">Sector A-12</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example Card 2: No Human & Chainsaw -->
                <div class="history-card">
                    <div class="card-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Cdefs%3E%3ClinearGradient id='grad2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23dc2626;stop-opacity:0.1'/%3E%3Cstop offset='100%25' style='stop-color:%23f59e0b;stop-opacity:0.2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23grad2)' width='400' height='300'/%3E%3Ccircle cx='200' cy='120' r='40' fill='%23dc2626' opacity='0.2'/%3E%3Cpath d='M 200 100 L 210 130 L 190 130 Z' fill='%23dc2626' opacity='0.3'/%3E%3Ctext x='50%25' y='60%25' dominant-baseline='middle' text-anchor='middle' fill='%231e293b' font-size='20' font-family='Arial' font-weight='bold'%3EEvent Capture%3C/text%3E%3Ctext x='50%25' y='70%25' dominant-baseline='middle' text-anchor='middle' fill='%2364748b' font-size='14' font-family='Arial'%3E2025-11-17 09:15:45%3C/text%3E%3C/svg%3E" alt="Detection Image">
                    </div>
                    <div class="card-content">
                        <div class="card-header-info">
                            <div class="event-badge critical">
                                <i class="fas fa-exclamation-circle"></i>
                                <span>Critical Alert</span>
                            </div>
                            <div class="event-time">
                                <i class="fas fa-clock"></i>
                                <span>2025-11-17 09:15:45</span>
                            </div>
                        </div>
                        
                        <div class="card-detections">
                            <div class="detection-item visual-detection">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-eye-slash detection-icon visual"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Visual Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value">No Human</span>
                                        <span class="detection-badge normal">Clear</span>
                                    </div>
                                    <span class="detection-desc">No human presence detected visually</span>
                                </div>
                            </div>
                            <div class="detection-item audio-detection critical-audio">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-volume-up detection-icon audio"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Audio Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value chainsaw">Chainsaw Detected</span>
                                        <span class="detection-badge critical-badge">Critical</span>
                                    </div>
                                    <span class="detection-desc">⚠️ Illegal logging activity detected!</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <div class="device-info">
                                <i class="fas fa-desktop"></i>
                                <div>
                                    <span class="device-label">Device</span>
                                    <span class="device-name">Device 002</span>
                                </div>
                            </div>
                            <div class="location-info">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <span class="location-label">Location</span>
                                    <span class="location-name">Sector B-05</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Example Card 3: No Human & Forest -->
                <div class="history-card">
                    <div class="card-image">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Cdefs%3E%3ClinearGradient id='grad3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2322c55e;stop-opacity:0.1'/%3E%3Cstop offset='100%25' style='stop-color:%2310b981;stop-opacity:0.2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23grad3)' width='400' height='300'/%3E%3Ccircle cx='200' cy='120' r='40' fill='%2322c55e' opacity='0.2'/%3E%3Cpath d='M 200 100 L 210 130 L 190 130 Z' fill='%2322c55e' opacity='0.3'/%3E%3Ctext x='50%25' y='60%25' dominant-baseline='middle' text-anchor='middle' fill='%231e293b' font-size='20' font-family='Arial' font-weight='bold'%3EEvent Capture%3C/text%3E%3Ctext x='50%25' y='70%25' dominant-baseline='middle' text-anchor='middle' fill='%2364748b' font-size='14' font-family='Arial'%3E2025-11-17 08:05:20%3C/text%3E%3C/svg%3E" alt="Detection Image">
                    </div>
                    <div class="card-content">
                        <div class="card-header-info">
                            <div class="event-badge normal-priority">
                                <i class="fas fa-check-circle"></i>
                                <span>Normal</span>
                            </div>
                            <div class="event-time">
                                <i class="fas fa-clock"></i>
                                <span>2025-11-17 08:05:20</span>
                            </div>
                        </div>
                        
                        <div class="card-detections">
                            <div class="detection-item visual-detection">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-eye-slash detection-icon visual"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Visual Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value">No Human</span>
                                        <span class="detection-badge normal">Clear</span>
                                    </div>
                                    <span class="detection-desc">No human presence detected visually</span>
                                </div>
                            </div>
                            <div class="detection-item audio-detection">
                                <div class="detection-icon-wrapper">
                                    <i class="fas fa-volume-up detection-icon audio"></i>
                                </div>
                                <div class="detection-info">
                                    <span class="detection-label">Audio Detection</span>
                                    <div class="detection-value-wrapper">
                                        <span class="detection-value">Forest Sound</span>
                                        <span class="detection-badge normal">Normal</span>
                                    </div>
                                    <span class="detection-desc">Natural forest ambient sound detected</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <div class="device-info">
                                <i class="fas fa-desktop"></i>
                                <div>
                                    <span class="device-label">Device</span>
                                    <span class="device-name">Device 001</span>
                                </div>
                            </div>
                            <div class="location-info">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <span class="location-label">Location</span>
                                    <span class="location-name">Sector A-08</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
             <div class="pagination">
                <a href="#" class="page-link active" data-page="1">1</a>
                <a href="#" class="page-link" data-page="2">2</a>
                <a href="#" class="page-link" data-page="3">3</a>
                <a href="#" class="page-link" id="next-link">Next &raquo;</a>
            </div>
        </section>
    </main>
    <script src="app.js"></script>
    <script>
        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                    const icon = menuToggle.querySelector('i');
                    if (navLinks.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
            }

            // Pagination functionality
            const historyGrid = document.querySelector('.history-grid');
            const pageLinks = document.querySelectorAll('.page-link');
            const cards = document.querySelectorAll('.history-card');
            const itemsPerPage = 2; // Number of cards per page
            let currentPage = 1;
            const totalPages = Math.ceil(cards.length / itemsPerPage);

            // Function to show cards for a specific page
            function showPage(page) {
                const startIndex = (page - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;

                cards.forEach((card, index) => {
                    if (index >= startIndex && index < endIndex) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Update active state on number links
                pageLinks.forEach((link) => {
                    link.classList.remove('active');
                    const pageNum = link.getAttribute('data-page');
                    if (pageNum && parseInt(pageNum) === page) {
                        link.classList.add('active');
                    }
                });
            }

            // Initialize: show first page
            showPage(1);

            // Handle pagination clicks
            pageLinks.forEach((link) => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const linkText = link.textContent.trim();
                    const dataPage = link.getAttribute('data-page');
                    
                    if (linkText === 'Next »') {
                        if (currentPage < totalPages) {
                            currentPage++;
                            showPage(currentPage);
                        }
                    } else if (dataPage) {
                        // Number link
                        const pageNum = parseInt(dataPage);
                        if (pageNum >= 1 && pageNum <= totalPages) {
                            currentPage = pageNum;
                            showPage(currentPage);
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
